package com.training;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import com.training.dao.impl.CourseDaoImpl;
import com.training.entity.Course;
import com.training.entity.CourseDao;
import com.training.entity.Student;
import com.training.utils.DbConnection;

public class Application {

	public static void main(String[] args) {
		System.out.println(DbConnection.getOracleConnection());
		
		CourseDao dao = new CourseDaoImpl();
		int key =2;
		
		switch (key) {
			case 1:
				Course datastructure = new Course(101, "DataStructures");
				Student sam = new Student(11, "Sam", 101);
				try {
					System.out.println(dao.addCourse(datastructure));
					System.out.println(dao.addStudent(sam));
				} catch (SQLException e) {
					e.printStackTrace();
				}
				break;
			case 2:
				try {
					List<Student> studentList = dao.displayStudentsByCourse(101);
					studentList.forEach(System.out::println);
				} catch (SQLException e) {
					e.printStackTrace();
				}
				break;
			default:
				break;
			}
		
	}

}
