package com.training;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;

public class Application {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		IoHandling handle = new IoHandling();
		CreateBill bill = new CreateBill();
		HashSet<Item> custItems = new HashSet<>();
		
		HashMap<String,Item> items = handle.readFromText();
		Customer c1 = new Customer(101, "Sam");
		HashMap<Customer, HashSet<Item>> c1_bill = new HashMap<>();
		
		//Customer items are orpat,maruti,chair
		Iterator<String> itr= items.keySet().iterator();
		while (itr.hasNext()) {
			System.out.println(itr.next());
			
		}
//			if(items.containsKey("chair")){
//				System.out.println(items.getClass());
//				Item ch = items.get("chair");
//				ch.setDuration(3);
//				ch.setQuantity(ch.getQuantity()+5);
//				custItems.add(ch);
//				c1_bill = bill.makeBill(c1,custItems);
//				System.out.println("Works");
//			}
	
			if(items.containsKey("chair")){
				Item ch = items.get("chair");
				ch.setDuration(2);
				ch.setQuantity(ch.getQuantity()+5);
				if(custItems.contains(ch)){
					Item new_item = ch;
					if(ch.getDuration()!=9){

						new_item.setDuration(9);
						System.out.println(custItems.add(new_item));
					
					}
					
				}
				
				else{
					custItems.add(ch);
				}
				c1_bill = bill.makeBill(c1,custItems);
//				System.out.println("Works");
			}
			
//			for(Item cut:custItems){
//				System.out.println(cut.getItemName());
//			}
			
			if(items.containsKey("maruti")){
				c1_bill=bill.makeBill(c1,items.get("maruti"));
//				System.out.println("Works");
			}
			
			
			
			//adding
			String key_1= "chair";
			if(items.containsKey(key_1)){
				//Switch case to convert to object\
				switch (key_1) {
				case "chair":
					Furniture furniture= new Furniture();
					break;

				default:
					break;
				}
				
			}
		
		HashSet<Item> itemList=c1_bill.get(c1);
		for(Item it:itemList){
			System.out.println(it.getItemName()+" "+it.getDuration()+" "+it.getQuantity());
		}
//		for(Item it : items){
//			if(it.getItemName().equals("chair")){
////				System.out.println(it.getClass());
//				bill.makeBill(c1,it);
//			}
//		}
//		
//		for(Item it:items){
//			System.out.println(it.getItemName());
//		}
		
		
	}

}
