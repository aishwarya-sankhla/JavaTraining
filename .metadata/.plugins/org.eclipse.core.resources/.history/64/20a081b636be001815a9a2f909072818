package com.training;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.HashMap;
import java.util.HashSet;


public class IoHandling {
	
	private static final int defaultQuant = 0;
	private static final int defaultDay = 1;
	
	public HashMap<String,Item> readFromText(){
		HashMap<String,Item> itemSet = new HashMap<>();
		BufferedReader reader = null;
		try {
			reader = new BufferedReader(new FileReader("C:\\Users\\AC31846\\Desktop\\resources\\items.txt"));
			
			String itemAsString;
			while((itemAsString = reader.readLine())!=null){
				
				String[] items = itemAsString.split(",");
				switch (items[0]) {
				case "furniture":
					Item furniture = new Furniture(items[1],Float.parseFloat(items[2]),defaultQuant,defaultDay); 
					itemSet.put(items[0],furniture);
					break;
				case "car":
					Item car = new Car(items[1],Float.parseFloat(items[2]),defaultQuant,defaultDay); 
					itemSet.put(items[0],car);
					break;
				case "fan":
					Item fan = new Car(items[1],Float.parseFloat(items[2]),defaultQuant,defaultDay); 
					itemSet.put(items[0],fan);
					break;
				case "utensils":
					Item utensils = new Car(items[1],Float.parseFloat(items[2]),defaultQuant,defaultDay); 
					itemSet.put(items[0],utensils);
					break;
				default:
					break;
				}
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
		finally {
			try {
				reader.close();
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
		return itemSet;
	}
}
