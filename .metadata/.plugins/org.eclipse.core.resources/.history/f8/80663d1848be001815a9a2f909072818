package com.training;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;

public class Application {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		IoHandling handle = new IoHandling();
		CreateBill bill = new CreateBill();
		HashSet<Item> custItems = new HashSet<>();
		
		HashMap<String,Item> items = handle.readFromText();
		Customer c1 = new Customer(101, "Sam");
		HashMap<Customer, HashSet<Item>> c1_bill = new HashMap<>();
		
		//Customer items are orpat,maruti,chair
		Iterator<String> itr= items.keySet().iterator();
		while (itr.hasNext()) {
			System.out.println(itr.next());
			
		}
//			if(items.containsKey("chair")){
//				System.out.println(items.getClass());
//				Item ch = items.get("chair");
//				ch.setDuration(3);
//				ch.setQuantity(ch.getQuantity()+5);
//				custItems.add(ch);
//				c1_bill = bill.makeBill(c1,custItems);
//				System.out.println("Works");
//			}
	
			if(items.containsKey("chair")){
				Item ch = items.get("chair");
				ch.setDuration(2);
				ch.setQuantity(ch.getQuantity()+5);
				if(custItems.contains(ch)){
					Item new_item = ch;
					if(ch.getDuration()!=9){

						new_item.setDuration(9);
						System.out.println(custItems.add(new_item));
					
					}
					
				}
				
				else{
					custItems.add(ch);
				}
				c1_bill = bill.makeBill(c1,custItems);

			}
			

			
			if(items.containsKey("maruti")){
				c1_bill=bill.makeBill(c1,items.get("maruti"));

			}
			
			
			
			//adding
			int duration_1 = 4;
			String key_1= "chair";
			if(items.containsKey(key_1)){

				switch (key_1) {
				case "chair":
					Furniture furniture= new Furniture();
					Item ch = items.get("chair");
					
					furniture.setItemName(ch.getItemName());
					furniture.setItemPrice(ch.getItemPrice());
					furniture.setQuantity(4);
					furniture.setDuration(11);
					
					
					break;

				default:
					break;
				}
				
			}
		
		HashSet<Item> itemList=c1_bill.get(c1);
		for(Item it:itemList){
			System.out.println(it.getItemName()+" "+it.getDuration()+" "+it.getQuantity());
		}

		
	}

}
