package com.training;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;

public class Application {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		IoHandling handle = new IoHandling();
		CreateBill bill = new CreateBill();
		HashSet<Item> custItems = new HashSet<>();
		
		HashMap<String,Item> items = handle.readFromText();
		Customer c1 = new Customer(101, "Sam");
		Customer c2 = new Customer(102, "John");
		HashMap<Customer, HashSet<Item>> c1_bill = new HashMap<>();
		Crud crud = new Crud();
		//Customer items are orpat,maruti,chair
		Iterator<String> itr= items.keySet().iterator();
		while (itr.hasNext()) {
			System.out.println(itr.next());
			
		}
	
//			if(items.containsKey("chair")){
//				Item ch = items.get("chair");
//				ch.setDuration(2);
//				ch.setQuantity(ch.getQuantity()+5);
//				custItems.add(ch);
//				
//
//			}
			

			
//			if(items.containsKey("maruti")){
//				Item car = items.get("maruti");
//				car.setDuration(3);
//				car.setQuantity(1);
//				custItems.add(car);
//
//			}
			
//			if(items.containsKey("pan")){
//				Item ut = items.get("pan");
//				ut.setDuration(2);
//				ut.setQuantity(1);
//				custItems.add(ut);
//
//			}
//			if(items.containsKey("orpat")){
//				Item car = items.get("orpat");
//				car.setDuration(4);
//				car.setQuantity(1);
//				custItems.add(car);
//
//			}
			
			crud.insertIntoBillHandler(items, custItems,7,"maruti");
			crud.insertIntoBillHandler(items,custItems,4,"chair");
			crud.insertIntoBillHandler(items, custItems,8,"orpat");
			crud.insertIntoBillHandler(items,custItems,9,"pan");
			
			c1_bill = bill.makeBill(c1,custItems);
			
//		
		HashSet<Item> itemList=c1_bill.get(c1);
		for(Item it:itemList){
			System.out.println(it.getItemName()+" "+it.getDuration()+" "+it.getQuantity());
		}

		
	}

}
